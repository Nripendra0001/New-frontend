<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Live Call | nripendra.online</title>
  <link rel="stylesheet" href="./css/call.css" />
</head>
<body>

  <header class="topbar">
    <div class="brand">
      <div class="logo">N</div>
      <div>
        <h1>Premium Mentor Call</h1>
        <p>Audio Call ‚Ä¢ 3 Minutes ‚Ä¢ Auto End</p>
      </div>
    </div>

    <div class="right">
      <span class="pill" id="roomPill">ID: ---</span>
      <span class="pill timer" id="timerPill">03:00</span>
      <button class="btn danger" id="endBtn">End</button>
    </div>
  </header>

  <main class="wrap">
    <section class="card">

      <div class="status">
        <div class="dot" id="statusDot"></div>
        <div>
          <h2 id="statusText">Ready</h2>
          <p id="statusSub">Call ID ‡§¨‡§®‡§æ‡§ì ‡§î‡§∞ mentor ‡§ï‡•ã ‡§≠‡•á‡§ú‡•ã.</p>
        </div>
      </div>

      <!-- üî• Switch Tabs -->
      <div class="tabs">
        <button class="tab active" id="studentTab">üë¶ Student</button>
        <button class="tab" id="mentorTab">üßë‚Äçüè´ Mentor</button>
      </div>

      <!-- ======================
           STUDENT PANEL
      ======================= -->
      <div class="panel show" id="studentPanel">

        <div class="field">
          <label>Call ID (Auto)</label>
          <div class="input-row">
            <input id="studentCallId" readonly placeholder="Click Create ID" />
            <button class="btn small ghost" id="createIdBtn" type="button">Create ID</button>
          </div>
        </div>

        <div class="actions">
          <button class="btn" id="studentStartBtn" type="button">Join as Student</button>
          <button class="btn ghost" id="studentShareBtn" type="button">Copy Mentor Link</button>
        </div>

        <p class="hint">
          Student: Create ID ‚Üí Join ‚Üí Mentor ko link bhejo.
        </p>
      </div>

      <!-- ======================
           MENTOR PANEL
      ======================= -->
      <div class="panel" id="mentorPanel">

        <div class="field">
          <label>Enter Call ID</label>
          <input id="mentorCallId" placeholder="Paste Call ID here" />
        </div>

        <div class="actions">
          <button class="btn" id="mentorJoinBtn" type="button">Join as Mentor</button>
          <button class="btn ghost" id="pasteBtn" type="button">Paste</button>
        </div>

        <p class="hint">
          Mentor: Student ‡§∏‡•á Call ID ‡§≤‡•ã ‚Üí paste ‡§ï‡§∞‡•ã ‚Üí Join.
        </p>
      </div>

      <!-- ======================
           AUDIO BOX
      ======================= -->
      <div class="audio-box">
        <h3>Live Audio</h3>
        <p>Remote voice yaha sunai dega.</p>

        <!-- üî• FINAL FIX: controls ‡§ú‡§∞‡•Ç‡§∞‡•Ä ‡§π‡•à -->
        <audio id="remoteAudio" autoplay playsinline controls></audio>

        <div class="call-actions">
          <button class="btn ghost" id="muteBtn" type="button">Mute</button>
          <button class="btn ghost" id="speakerBtn" type="button">Speaker Unlock</button>
          <button class="btn ghost" id="testMicBtn" type="button">Test Mic</button>
        </div>
      </div>

    </section>
  </main>

  <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
  <script src="./js/call.js"></script>
</body>
</html>
